CREATE TABLE SPORT(port_id BIGSERIAL PRIMARY KEY NOT NULL,abel VARCHAR (20) NOT NULL,escription VARCHAR (140) NOT NULL ,mage_url VARCHAR (1024),in_players INT,ax_players INT,ait_list_amount INT,ctive BOOLEAN NOT NULL,ONSTRAINT sport_label_unique UNIQUE (label));
CREATE TABLE CURRANT_USER(urrant_user_id BIGSERIAL PRIMARY KEY NOT NULL,mail_address VARCHAR(50) NOT NULL,alt VARCHAR (20) NOT NULL,assword VARCHAR (100) NOT NULL,ccount_status VARCHAR (20) NOT NULL,ubscriber_type VARCHAR (20) NOT NULL,ctive BOOLEAN NOT NULL,ONSTRAINT user_email_address_unique UNIQUE (email_address));
CREATE TABLE PROFILE(rofile_id BIGSERIAL PRIMARY KEY NOT NULL,urrant_user_id BIGINT NOT NULL,ource VARCHAR (10) NOT NULL,ource_identifier VARCHAR (10) NOT NULL,irst_name VARCHAR (20),ast_name VARCHAR(20),mage_url VARCHAR (50),io VARCHAR (140),ity VARCHAR (50),tate VARCHAR(50),ountry VARCHAR (50),rofile_level VARCHAR (10) NOT NULL,referred_time VARCHAR (10),ocation_enabled BOOLEAN NOT NULL ,ew_game_notification BOOLEAN NOT NULL,riend_activity_notification BOOLEAN NOT NULL,ews_promotions_notification BOOLEAN NOT NULL,ayment_receipt VARCHAR(100),OREIGN KEY (currant_user_id) REFERENCES currant_user (currant_user_id));
CREATE TABLE PUSH_NOTIFICATION_IDENTIFIER(ush_notification_identifier_id BIGSERIAL PRIMARY KEY NOT NULL,dentifier UUID  NOT NULL,latform VARCHAR(10) NOT NULL,rofile_id BIGINT NOT NULL,OREIGN KEY (profile_id) REFERENCES PROFILE (profile_id),ONSTRAINT push_notification_identifier_unique UNIQUE (identifier, platform, profile_id));
CREATE TABLE PROFILE_SPORT(rofile_id BIGINT NOT NULL,port_id BIGINT NOT NULL ,ort_order INT NOT NULL,OREIGN KEY (profile_id) REFERENCES PROFILE(profile_id),OREIGN KEY (sport_id) REFERENCES SPORT(sport_id),ONSTRAINT profile_sport_unique UNIQUE (profile_id, sport_id));
CREATE TABLE EQUIPMENT(quipment_id BIGSERIAL PRIMARY KEY NOT NULL,abel VARCHAR (30) NOT NULL,escription VARCHAR (100),mage_url VARCHAR (50),ctive BOOL NOT NULL ,ONSTRAINT equipment_label_unique UNIQUE (label));
CREATE TABLE SPORT_EQUIPMENT(port_id BIGINT NOT NULL,quipment_id BIGINT NOT NULL,ort_order INT NOT NULL,OREIGN KEY (sport_id) REFERENCES SPORT(sport_id),OREIGN KEY (equipment_id) REFERENCES EQUIPMENT(EQUIPMENT_ID),ONSTRAINT sport_equipment_unique UNIQUE (sport_id, equipment_id));
CREATE TABLE CONNECTION (ource_profile_id BIGINT NOT NULL,arget_profile_id BIGINT NOT NULL,tatus VARCHAR(10) NOT NULL,OREIGN KEY (source_profile_id) REFERENCES PROFILE(profile_id),OREIGN KEY (target_profile_id) REFERENCES PROFILE(profile_id),ONSTRAINT connection_unique UNIQUE (SOURCE_PROFILE_ID, TARGET_PROFILE_ID));
CREATE TABLE CLUB (lub_id BIGSERIAL PRIMARY KEY NOT NULL,abel VARCHAR (30) NOT NULL,escription VARCHAR(100),ocation VARCHAR(100),ps_coordinates VARCHAR(50),lub_icon BIGINT,lub_icon_back_color INT,lub_icon_front_color INT,isibility VARCHAR(10) NOT NULL,pen_enrollment BOOLEAN NOT NULL,tatus VARCHAR(10) NOT NULL,yof BOOLEAN NOT NULL,ONSTRAINT club_label_unique UNIQUE (label));
CREATE TABLE CLUB_ICON (lub_icon_id BIGSERIAL PRIMARY KEY NOT NULL,mage_url VARCHAR(50) NOT NULL,ocked BOOLEAN NOT NULL default(false),ONSTRAINT club_icon_image_url_unique UNIQUE (image_url));
CREATE TABLE CLUB_IMAGE (lub_id BIGINT NOT NULL,mage_url VARCHAR(50) NOT NULL,ort_order INT NOT NULL,OREIGN KEY (club_id) REFERENCES CLUB(club_id),ONSTRAINT club_image_unique UNIQUE (club_id, image_url, sort_order));
CREATE TABLE CLUB_PROFILE_CONNECTION (lub_id BIGINT NOT NULL,rofile_id BIGINT NOT NULL,tatus VARCHAR(10) NOT NULL,OREIGN KEY (club_id) REFERENCES CLUB(club_id),OREIGN KEY (profile_id) REFERENCES PROFILE(profile_id),ONSTRAINT club_profile_connection_unique UNIQUE (club_id, profile_id));
CREATE TABLE CLUB_SPORT (lub_id BIGINT NOT NULL,port_id BIGINT NOT NULL,ort_order INT NOT NULL,OREIGN KEY (club_id) REFERENCES CLUB(club_id),OREIGN KEY (sport_id) REFERENCES SPORT(sport_id),ONSTRAINT club_sport_unique UNIQUE (club_id, sport_id, sort_order));
CREATE TABLE CLUB_WALL_POST (lub_wall_post_id BIGSERIAL PRIMARY KEY NOT NULL,uthor_profile_id BIGINT NOT NULL,lub_id BIGINT NOT NULL,ext VARCHAR (200) NOT NULL,mage_url VARCHAR (50),reated TIMESTAMP NOT NULL,arent_post_id BIGINT,OREIGN KEY (author_profile_id) REFERENCES PROFILE(profile_id),OREIGN KEY (club_id) references CLUB(club_id));
CREATE TABLE GAME (ame_id BIGSERIAL PRIMARY KEY NOT NULL,port_id BIGINT NOT NULL,isibility VARCHAR(10) NOT NULL,lub_id BIGINT,ocation VARCHAR(100),ps_coordinates VARCHAR(50),yof BOOLEAN NOT NULL,ame_time TIMESTAMP NOT NULL,ize INT NOT NULL,ntensity VARCHAR(10) NOT NULL,escription VARCHAR(200) NOT NULL,tatus VARCHAR(10) NOT NULL,aitlist_strategy VARCHAR(5) NOT NULL default('blast'),OREIGN KEY (sport_id) REFERENCES SPORT(sport_id),OREIGN KEY (club_id) REFERENCES CLUB(club_id));
CREATE TABLE GAME_PROFILE_CONNECTION (ame_id BIGINT NOT NULL,rofile_id BIGINT NOT NULL,tatus VARCHAR(10) NOT NULL,OREIGN KEY (game_id) REFERENCES GAME(game_id),OREIGN KEY (profile_id) REFERENCES PROFILE(profile_id),ONSTRAINT game_profile_connection_unique UNIQUE (game_id, profile_id));
CREATE TABLE GAME_EQUIPMENT (ame_id BIGINT NOT NULL,quipment_id BIGINT NOT NULL,mount INT,laimed BOOL,laimed_by_profile_id BIGINT,ort_order INT NOT NULL,OREIGN KEY (game_id) REFERENCES GAME(game_id),OREIGN KEY (equipment_id) REFERENCES EQUIPMENT(equipment_id),OREIGN KEY (claimed_by_profile_id) REFERENCES PROFILE(profile_id),ONSTRAINT game_equipment_unique UNIQUE (game_id, equipment_id));
CREATE TABLE GAME_PROFILE_STARRED (ame_id BIGINT NOT NULL,rofile_ID BIGINT NOT NULL,OREIGN KEY (game_id) REFERENCES GAME(game_id),OREIGN KEY (profile_id) REFERENCES PROFILE(profile_id),ONSTRAINT game_profile_starred_unique UNIQUE (game_id, profile_id));
CREATE TABLE GAME_IMAGE (ame_id BIGINT NOT NULL,mage_url VARCHAR(50) NOT NULL,ort_order INT NOT NULL,OREIGN KEY (game_id) REFERENCES GAME(game_id),ONSTRAINT game_image_unique UNIQUE (game_id, image_url));